pipeline {
 agent any
 tools{
 nodejs 'NodeJs 8.9.0' }
 stages{
  stage("build"){
    when{ changeset "**/result/**" }  
    steps{
     echo 'Compiling result app'
     echo 'code from feature/pipeline'
     dir('result'){sh 'npm install'}
         }
               }
  stage("test"){
    when{ changeset "**/result/**" }
    steps{
     echo 'Running Unit Tets on result app'
     dir('result'){ sh 'npm install'            
                    sh 'npm test'}
         }
               }

      }
 post{
 always{
 
 echo 'Building multibranch pipeline for result is completed..'
       }
     }
   }
